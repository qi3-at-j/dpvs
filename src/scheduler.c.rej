--- src/scheduler.c
+++ src/scheduler.c
@@ -211,8 +211,10 @@
         ++this_poll_tick;
         netif_update_worker_loop_cnt();
 
+#ifdef TYFLOW_PER_THREAD
         if (cid != 0)
             flow_flush_fwd_q(cid);
+#endif
         /* do normal job */
         list_for_each_entry(job, &dpvs_lcore_jobs[role][LCORE_JOB_LOOP], list) {
             do_lcore_job(job);
